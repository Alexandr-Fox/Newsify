(this.webpackJsonpNewsify=this.webpackJsonpNewsify||[]).push([[0],{121:function(e,t,a){e.exports=a.p+"static/media/inst_1.394c0fd3.jpg"},122:function(e,t,a){e.exports=a.p+"static/media/inst_2.46d90e1f.jpg"},123:function(e,t,a){e.exports=a.p+"static/media/inst_3.52516b85.jpg"},186:function(e,t,a){e.exports=a(279)},272:function(e,t,a){},279:function(e,t,a){"use strict";a.r(t);a(187),a(213),a(215),a(216),a(218),a(219),a(220),a(221),a(222),a(223),a(224),a(225),a(227),a(228),a(229),a(230),a(231),a(232),a(233),a(234),a(235),a(236),a(238),a(239),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255);var n,r=a(0),l=a.n(r),c=a(37),s=a.n(c),i=a(28),o=a.n(i),m=a(44),d=a(45),h=a(47),u=a(46),p=a(48),f=a(9),E=(a(271),a(116)),g=a.n(E),v=a(117),k=a.n(v),b=a(59),y=a.n(b),_=Object(f.o)(),w=function(e){var t=e.currentTarget,a=t.name,r=t.value;console.log(a,n),n=r},j=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.go,r=e.fetchedUser;return l.a.createElement(f.k,{id:t},l.a.createElement(f.l,{left:l.a.createElement(f.m,{onClick:a,"data-to":"home"},_===f.i?l.a.createElement(g.a,null):l.a.createElement(k.a,null))},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r&&l.a.createElement(f.g,{separator:"hide",header:l.a.createElement(f.h,{mode:"secondary"},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")},l.a.createElement(f.c,{size:"l",mode:"shadow"},l.a.createElement(f.d,{before:r.photo_200?l.a.createElement(f.a,{src:r.photo_200}):null,description:r.city&&r.city.title?r.city.title:""},"".concat(r.first_name," ").concat(r.last_name)))),l.a.createElement(f.g,{separator:"hide",header:l.a.createElement(f.h,{mode:"secondary"},"Instagram")},l.a.createElement(f.c,{size:"l",mode:"shadow"},l.a.createElement(f.d,{before:l.a.createElement(y.a,null),description:"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442!"},"\u0412\u0445\u043e\u0434 \u0432 Instagram"),l.a.createElement(f.e,null,l.a.createElement(f.f,null,l.a.createElement(f.j,{top:"\u041b\u043e\u0433\u0438\u043d",name:"email",type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",value:n,onChange:w}),l.a.createElement(f.j,{top:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),l.a.createElement(f.b,{size:"xl",mode:"secondary",onClick:a,"data-to":"home",disabled:!0},"\u0412\u043e\u0439\u0442\u0438"))))))}}]),t}(l.a.Component),O=a(124),z=a.n(O),x=a(125),U=a.n(x),A=a(38),P=a.n(A),C=a(60),T=a.n(C),W=a(126),I=a.n(W),K=a(118),M=a.n(K),R=a(81),V=a.n(R),N=a(82),S=a.n(N),L=a(83),G=a.n(L),J=a(119),q=a.n(J),B=a(120),D=a.n(B),F=a(31),H=a.n(F),Q=a(127),X=a.n(Q),Y=a(85),Z=a.n(Y),$=a(49),ee=a.n($),te=a(84),ae=a.n(te),ne=a(87),re=a.n(ne),le=a(86),ce=a.n(le),se=a(121),ie=a.n(se),oe=a(122),me=a.n(oe),de=a(123),he=a.n(de),ue=(a(272),Object(f.o)());function pe(e,t){for(var a=0;a<t.length;a++)if(Math.abs(t[a].id)===Math.abs(e))return t[a].photo_100}function fe(e,t){for(var a=0;a<t.length;a++)if(Math.abs(t[a].id)===Math.abs(e))return e<0?t[a].name:"".concat(t[a].first_name," ").concat(t[a].last_name)}var Ee=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.go,n=e.fetchedUser,r=e.news_vk,c=e.groups_vk,s=e.profiles_vk;return console.log(r),l.a.createElement(z.a,{id:t},l.a.createElement(U.a,{left:l.a.createElement(I.a,{onClick:a,"data-to":"settings"},ue===f.i?l.a.createElement(M.a,null):l.a.createElement(q.a,null))},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),n&&l.a.createElement(X.a,{separator:"hide"},l.a.createElement(ee.a,null,l.a.createElement(ae.a,{size:"l",mode:"shadow"},l.a.createElement(Z.a,{before:n.photo_200?l.a.createElement(H.a,{src:n.photo_200}):null,description:n.city&&n.city.title?n.city.title:"",indicator:l.a.createElement(y.a,{fill:"var(--destructive)",width:25,height:25})},"".concat(n.first_name," ").concat(n.last_name)),l.a.createElement(ce.a,null,l.a.createElement(re.a,{slideWidth:"100%",style:{height:"1%"},align:"centred",bullets:"dark"},l.a.createElement("img",{className:"Persik",src:ie.a,alt:"example"}),l.a.createElement("img",{className:"Persik",src:me.a,alt:"example"}),l.a.createElement("img",{className:"Persik",src:he.a,alt:"example"})),l.a.createElement(ee.a,{style:{display:"flex"}},l.a.createElement(P.a,{mode:"tertiary",stretched:!0,style:{marginRight:0,marginLeft:0}},l.a.createElement(H.a,{style:{background:"var(--destructive)"},size:25},l.a.createElement(V.a,{fill:"var(--white)"}))),l.a.createElement(P.a,{mode:"tertiary",stretched:!0},l.a.createElement(H.a,{style:{background:"var(--accent)"},size:25},l.a.createElement(G.a,{fill:"var(--white)"}))),l.a.createElement(P.a,{mode:"tertiary",stretched:!0,style:{marginRight:0,marginLeft:0}},l.a.createElement(H.a,{style:{background:"var(--accent)"},size:25},l.a.createElement(S.a,{fill:"var(--white)",width:16,height:16}))))))),r.map((function(e){var t=e.owner_id,a=e.text,n=e.attachments,r=e.likes,i=e.reposts,o=e.comments;return l.a.createElement(ee.a,null,l.a.createElement(ae.a,{size:"l",mode:"shadow"},l.a.createElement(Z.a,{before:t>0?l.a.createElement(H.a,{src:pe(t,s)}):l.a.createElement(H.a,{src:pe(t,c)}),description:"",indicator:l.a.createElement(D.a,{fill:"var(--accent)",width:25,height:25})},fe(t,t>0?s:c)),l.a.createElement(ee.a,null,a),l.a.createElement(ce.a,null,n&&function(e){console.log("attachment");for(var t=[],a=[],n=0;n<e.length;n++)"photo"===e.type&&t.push(e.photo.sizes.length>7?e.photo.sizes[6].url:e.photo.sizes[5].url),"link"===e.type&&a.push({url:e.link.url,title:e.link.title});return l.a.createElement(re.a,{slideWidth:"100%",style:{height:"1%"},align:"centred",bullets:"dark"},t.map((function(e){return l.a.createElement("img",{src:e,className:"Persik",alt:""})})))}(n),l.a.createElement(ee.a,{style:{display:"flex"}},l.a.createElement(P.a,{mode:"tertiary",stretched:!0,style:{marginRight:0,marginLeft:0},after:l.a.createElement(T.a,{mode:"prominent"},r.count)},l.a.createElement(H.a,{style:{background:"var(--destructive)"},size:25},l.a.createElement(V.a,{fill:"var(--white)"}))),l.a.createElement(P.a,{mode:"tertiary",stretched:!0},l.a.createElement(H.a,{style:{background:"var(--accent)"},size:25,after:l.a.createElement(T.a,{mode:"prominent"},o.count)},l.a.createElement(G.a,{fill:"var(--white)"}))),l.a.createElement(P.a,{mode:"tertiary",stretched:!0,style:{marginRight:0,marginLeft:0},after:l.a.createElement(T.a,{mode:"prominent"},i.count)},l.a.createElement(H.a,{style:{background:"var(--accent)"},size:25},l.a.createElement(S.a,{fill:"var(--white)",width:16,height:16})))))))}))))}}]),t}(l.a.Component),ge=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this,e))).go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.state={activePanel:"home",fetchedUser:null,authToken:null,news_vk:[],groups_vk:[],profiles_vk:[],news_inst:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;o.a.subscribe((function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data}),console.log(t.detail);break;case"VKWebAppAccessTokenReceived":console.log(t.detail),e.setState({authToken:t.detail.data.access_token}),o.a.send("VKWebAppCallAPIMethod",{method:"newsfeed.search",params:{q:e.state.fetchedUser?e.state.fetchedUser.city.title:null,extended:1,v:"5.101",access_token:e.state.authToken}});break;case"VKWebAppCallAPIMethodResult":console.log(t.detail),e.setState({news_vk:t.detail.data.response.items}),e.setState({groups_vk:t.detail.data.response.groups}),e.setState({profiles_vk:t.detail.data.response.profiles});break;default:console.log(t.detail)}})),o.a.send("VKWebAppGetUserInfo",{}),o.a.send("VKWebAppGetAuthToken",{app_id:7308928,scope:"friends,photos,video,wall,groups"})}},{key:"render",value:function(){return l.a.createElement(f.n,{activePanel:this.state.activePanel},l.a.createElement(Ee,{id:"home",authToken:this.state.authToken,news_vk:this.state.news_vk,groups_vk:this.state.groups_vk,profiles_vk:this.state.profiles_vk,fetchedUser:this.state.fetchedUser,go:this.go}),l.a.createElement(j,{id:"settings",fetchedUser:this.state.fetchedUser,go:this.go}))}}]),t}(l.a.Component);o.a.send("VKWebAppInit"),s.a.render(l.a.createElement(ge,null),document.getElementById("root"))}},[[186,1,2]]]);
//# sourceMappingURL=main.e96eafd5.chunk.js.map